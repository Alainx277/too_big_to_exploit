-- migrate:up
CREATE USER bank_app NOINHERIT;
-- Password must be set with:
-- ALTER USER bank_app WITH PASSWORD '<password>';
GRANT CONNECT ON DATABASE bank TO bank_app;
GRANT USAGE ON SCHEMA public TO bank_app;
GRANT SELECT ON TABLE users TO bank_app;
GRANT SELECT ON TABLE accounts TO bank_app;
GRANT UPDATE ON TABLE accounts TO bank_app;
GRANT SELECT ON TABLE account_owners TO bank_app;
GRANT UPDATE ON TABLE account_owners TO bank_app;
GRANT SELECT ON TABLE sessions TO bank_app;
GRANT INSERT ON TABLE sessions TO bank_app;
GRANT DELETE ON TABLE sessions TO bank_app;
GRANT USAGE ON SEQUENCE sessions_id_seq TO bank_app;
GRANT SELECT ON SEQUENCE sessions_id_seq TO bank_app;

-- migrate:down

DROP OWNED BY bank_app;
DROP USER bank_app;
